<!--TODO-->
{% extends '_layouts/base.html' %}
{% load crispy_forms_tags %}
{% load friendshiptags %}

{% block content %}
<p>Public profile page</p>
<p>Username: {{profile.user.username}}</p>
<p>Nickname: {{profile.nickname}}</p>
<p>Gender: {{profile.gender}}</p>
<p>Birthday: {{profile.birthday}}</p>
<p>Active user since {{profile.creation_date}}</p>
<p>Topics of Interest</p>
<ul>
{% for topic in topicList %}
        <li> {{topic.get_topic_display}} </li>
{% endfor %}
</ul>
<div>
    <h1>{{ profile.user.username }}'s lists</h1>
    {% for list in userLists %}
        <div>
            <h4><a href="{% url 'lists:detail' slug=list.slug %}">{{ list.title }}</a></h4>
            <p><strong>Author</strong>: {{ list.owner }}</p>
            <p><strong>Published</strong>: {{ list.pub_date }}</p>
            <!-- <p><strong>Slug</strong>: {{ list.slug }}</p> --> <!-- debug -->
        </div>
    {% endfor %}
</div>

<div>
    <h4> Friends </h4>
    {% friends profile.user %}

    <h4> Followers </h4>
    <ul>
        {% for f in followers %}
            <li>{{ f.username }}</li>
        {% endfor %}
    </ul>

    <h4> Following </h4>
    {% following profile.user %}
</div>



{% if not_self %}
  {% if not_friends and not active_request %}
    {% crispy addfriendform %}
  {% endif %}

  {% if doesnt_follow  %}
    {% crispy followuserform %}
  {% endif %}
{% endif %}


{% endblock %}
