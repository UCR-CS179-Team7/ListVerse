<!--TODO-->
{% extends '_layouts/base.html' %}
{% load crispy_forms_tags %}
{% load friendshiptags %}

{% block content %}
<p>Public profile page</p>
<img src="{{ MEDIA_URL }}{{ profile.avatar }}" height="100" width="100"/>
<p>Username: {{profile.user.username}}</p>
<p>Nickname: {{profile.nickname}}</p>
<p>Gender: {{profile.gender}}</p>
<p>Birthday: {{profile.birthday}}</p>
<p>Active user since {{profile.creation_date}}</p>
<p>Topics of Interest</p>
<ul>
{% for topic in topicList %}
        <li> {{topic.get_topic_display}} </li>
{% endfor %}
</ul>
<div>
    <h1>{{ profile.user.username }}'s lists</h1>
    {% for list in userLists %}
        <div>
            <h4><a href="{% url 'lists:edit' slug=list.slug %}">{{ list.title }}</a></h4>
            <p><strong>Author</strong>: {{ list.owner }}</p>
            <p><strong>Published</strong>: {{ list.pub_date }}</p>
            <!-- <p><strong>Slug</strong>: {{ list.slug }}</p> --> <!-- debug -->
        </div>
    {% endfor %}
</div>

<div>
    <h3> Friends </h3>
    {% friends profile.user %}

    <h3> Followers </h3>
    <ul>
        {% for f in followers %}
            <li>{{ f.username }}</li>
        {% endfor %} 
    </ul> 
    
    <h3> Following </h3>
    {% following profile.user %}


</div>



{% if not_self %}
  {% if not_friends  %}
    {% crispy addfriendform %}
  {% endif %}

  {% if doesnt_follow  %}
    {% crispy followuserform %}
  {% endif %}
{% endif %}


{% endblock %}

